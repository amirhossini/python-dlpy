

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dlpy.embedding_model.EmbeddingModel.fit_embedding_model &mdash; DLPy 1.2.1-dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dlpy.embedding_model.EmbeddingModel.deploy_embedding_model" href="dlpy.embedding_model.EmbeddingModel.deploy_embedding_model.html" />
    <link rel="prev" title="dlpy.embedding_model.EmbeddingModel.build_embedding_model" href="dlpy.embedding_model.EmbeddingModel.build_embedding_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DLPy
          

          
          </a>

          
            
            
              <div class="version">
                1.2.1-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building_models.html">Building Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#imagetable">ImageTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#audiotable">AudioTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#timeseries">Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#layers">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#model">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#solvers">Solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#optimizer">Optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#learning-rate-scheduler">Learning Rate Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#feature-maps">Feature Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#sequential-model">Sequential Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#residual-networks">Residual Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pre-built-models-for-computer-vision-tasks">Pre-Built Models for Computer Vision Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#image-captioning">Image Captioning</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#image-embedding">Image Embedding</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api.html#image-embedding-table">Image Embedding Table</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api.html#embedding-model">Embedding Model</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="dlpy.embedding_model.EmbeddingModel.html">dlpy.embedding_model.EmbeddingModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlpy.embedding_model.EmbeddingModel.build_embedding_model.html">dlpy.embedding_model.EmbeddingModel.build_embedding_model</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">dlpy.embedding_model.EmbeddingModel.fit_embedding_model</a></li>
<li class="toctree-l4"><a class="reference internal" href="dlpy.embedding_model.EmbeddingModel.deploy_embedding_model.html">dlpy.embedding_model.EmbeddingModel.deploy_embedding_model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pre-built-models-for-nlp-tasks">Pre-Built Models for NLP Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#speech">Speech</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#speech-utilities">Speech Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#splitting-utilities">Splitting Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DLPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
      <li>dlpy.embedding_model.EmbeddingModel.fit_embedding_model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/dlpy.embedding_model.EmbeddingModel.fit_embedding_model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dlpy-embedding-model-embeddingmodel-fit-embedding-model">
<h1>dlpy.embedding_model.EmbeddingModel.fit_embedding_model<a class="headerlink" href="#dlpy-embedding-model-embeddingmodel-fit-embedding-model" title="Permalink to this headline">¶</a></h1>
<dl class="py method">
<dt id="dlpy.embedding_model.EmbeddingModel.fit_embedding_model">
<code class="sig-prename descclassname">EmbeddingModel.</code><code class="sig-name descname">fit_embedding_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">optimizer</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_samples</span><span class="o">=</span><span class="default_value">512</span></em>, <em class="sig-param"><span class="n">label_level</span><span class="o">=</span><span class="default_value">- 2</span></em>, <em class="sig-param"><span class="n">resize_width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resize_height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_iter</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">valid_table</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">valid_freq</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">gpu</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">record_seed</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">save_best_weights</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">n_threads</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_from_scratch</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dlpy.embedding_model.EmbeddingModel.fit_embedding_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting a deep learning model for embedding learning.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>optimizer</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Optimizer</span></code></span></dt><dd><p>Specifies the parameters for the optimizer.</p>
</dd>
<dt><strong>data</strong><span class="classifier">class:<cite>ImageEmbeddingTable</cite>, optional</span></dt><dd><p>This is the input data. It muse be a ImageEmbeddingTable object. Either data or path has to be specified.</p>
</dd>
<dt><strong>path</strong><span class="classifier">string, optional</span></dt><dd><p>The path to the image directory on the server.
Path may be absolute, or relative to the current caslib root.
when path is specified, the data option will be ignored.
A new sample of data will be randomly generated after the number of epochs defined in Optimizer.
max_iter defines how many iterations the random sample will be generated.</p>
</dd>
<dt><strong>n_samples</strong><span class="classifier">int, optional</span></dt><dd><p>Number of samples to generate.
Default: 512</p>
</dd>
<dt><strong>label_level</strong><span class="classifier">int, optional</span></dt><dd><p>Specifies which path level should be used to generate the class labels for each image.
This class label determines whether a given image pair belongs to the same class.
For instance, label_level = 1 means the first directory and label_level = -2 means the last directory.
This internally use the SAS scan function
(check <a class="reference external" href="https://www.sascrunch.com/scan-function.html">https://www.sascrunch.com/scan-function.html</a> for more details).
Default: -2</p>
</dd>
<dt><strong>resize_width</strong><span class="classifier">int, optional</span></dt><dd><p>Specifies the image width that needs be resized to. When resize_width is not given, it will be reset to
the specified resize_height.</p>
</dd>
<dt><strong>resize_height</strong><span class="classifier">int, optional</span></dt><dd><p>Specifies the image height that needs be resized to. When resize_height is not given, it will be reset to
the specified resize_width.</p>
</dd>
<dt><strong>max_iter</strong><span class="classifier">int, optional</span></dt><dd><p>Hard limit on iterations when randomly generating data.
Default: 1</p>
</dd>
<dt><strong>valid_table</strong><span class="classifier">string or CASTable, optional</span></dt><dd><p>Specifies the table with the validation data. The validation
table must have the same columns and data types as the training table.</p>
</dd>
<dt><strong>valid_freq</strong><span class="classifier">int, optional</span></dt><dd><p>Specifies the frequency for scoring the validation table.</p>
</dd>
<dt><strong>gpu</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gpu</span></code>, optional</span></dt><dd><p>When specified, the action uses graphical processing unit hardware.
The simplest way to use GPU processing is to specify “gpu=1”.
In this case, the default values of other GPU parameters are used.
Setting gpu=1 enables all available GPU devices for use. Setting
gpu=0 disables GPU processing.</p>
</dd>
<dt><strong>seed</strong><span class="classifier">double, optional</span></dt><dd><p>specifies the random number seed for the random number generator
in SGD. The default value, 0, and negative values indicate to use
random number streams based on the computer clock. Specify a value
that is greater than 0 for a reproducible random number sequence.</p>
</dd>
<dt><strong>record_seed</strong><span class="classifier">double, optional</span></dt><dd><p>specifies the random number seed for the random record selection
within a worker. The default value 0 disables random record selection.
Records are read as they are laid out in memory.
Negative values indicate to use random number streams based on the
computer clock.</p>
</dd>
<dt><strong>save_best_weights</strong><span class="classifier">bool, optional</span></dt><dd><p>When set to True, it keeps the weights that provide the smallest
loss error.</p>
</dd>
<dt><strong>n_threads</strong><span class="classifier">int, optional</span></dt><dd><p>Specifies the number of threads to use. If nothing is set then
all of the cores available in the machine(s) will be used.</p>
</dd>
<dt><strong>train_from_scratch</strong><span class="classifier">bool, optional</span></dt><dd><p>When set to True, it ignores the existing weights and trains the model from the scracth.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">CASResults</span></code> or a list of <cite>CASResults</cite> when the path option is specified</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dlpy.embedding_model.EmbeddingModel.deploy_embedding_model.html" class="btn btn-neutral float-right" title="dlpy.embedding_model.EmbeddingModel.deploy_embedding_model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dlpy.embedding_model.EmbeddingModel.build_embedding_model.html" class="btn btn-neutral float-left" title="dlpy.embedding_model.EmbeddingModel.build_embedding_model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 SAS Institute Inc. All Rights Reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>